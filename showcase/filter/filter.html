<!DOCTYPE html>
<html ng-app="app">
    <head>
     <meta charset="UTF-8">
     <title>angular过滤器</title>
	 <script type="text/javascript" src="../org/angularjs/angular/angular.js"></script>
    </head>
    <body ng-controller="ctrl">
		<p>
			{{vals|test:val}}
		</p>
    </body>
    <script type="text/javascript">
    	var app = angular.module('app', []);
    	app.controller('ctrl', function($scope){
    		$scope.vals = [
    			{id: 1, name: 'a'},
    			{id: 2, name: 'b'},
    			{id: 3, name: 'c'}
    		];
    		$scope.val = "1,2,3";
    	});
    	app.filter('test', function() { 
		    return function(text, arg) {
		    	console.info(text);
		    	console.info(arg);
		    	var arr = arg.split(",");
		    	var res = [];
		    	for (var j = 0; j < arr.length; j++) {
		    		for (var i = text.length - 1; i >= 0; i--) {
		 				if(text[i].id == arr[j]){
		 					res.push(text[i].name);	
		 					break;
		 				}
		    			
		    		}
		    	}
		        return res.join(',');
		    }
		});
    </script>
</html>