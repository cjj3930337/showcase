<!DOCTYPE html>
<html ng-app="app">
<head>
  <meta charset="utf-8">
  <title>angularJs ui-select</title>
  <link rel="stylesheet" href="../org/bootstrap-3.3.4/css/bootstrap.css"/>
  <link rel="stylesheet" href="../org/angularjs/angular-ui-select/dist/select.css"/>
  <link rel="stylesheet" href="table.css"/>
  <script type="text/javascript" src="../org/jquery.min.js"></script>
  <script type="text/javascript" src="../org/angularjs/angular/angular.js"></script>
  <script type="text/javascript" src="../org/bootstrap-3.3.4/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="../org/angularjs/angular-ui-select/dist/select.min.js"></script>
  <script type="text/javascript" src="../org/angularjs/angular-sanitize/angular-sanitize.js"></script>
</head>
<body ng-controller="ctrl">
	<div class="clear">
		<br>
		<table id="schedule_table" class="schedule_table full-width-table">
              	<tr style="background: rgb(239, 244, 248);">
	                <th></th>
	                <th class="scheDateData scheduleWeekDayExpired">周一（03-12）</th>
	                <th class="scheDateData scheduleWeekDayExpired" >周二（03-13）</th>
	                <th class="scheDateData thisday">周三（03.14）</th>
	                <th class="scheDateData">周四（03.15）</th>
	                <th class="scheDateData">周五（03.16）</th>
	                <th class="scheDateData">周六（03.17）</th>
	                <th class="scheDateData">周日（03.18）</th>
              	</tr>
              	<tr class="schedule_tram">
 					<td style="border-bottom: 1px solid #dfdfdf; ">
	                   <p title="上午">上午</p>
	                </td>
	                <td class="schedule_td {{selected?'selected':''}}" ng-click="change()">
	                	&nbsp;请点击排班
	                </td>
	                <td class="schedule_td">
	                	&nbsp;请点击排班
	                </td>
	                <td class="schedule_td {{selected?'selected':''}}" ng-click="change()">
	                	&nbsp;请点击排班
	                </td>
	                <td class="schedule_td">
	                	&nbsp;请点击排班
	                </td>
	                <td class="schedule_td">
	                	&nbsp;请点击排班
	                </td>
	                <td class="schedule_td">
	                	&nbsp;请点击排班
	                </td>
	                <td class="schedule_td">
	                	&nbsp;请点击排班
	                </td>
              	</tr>
				<tr class="schedule_trpm">
 					<td>
	                   <p class="am schedulSetName" title="下午">下午</p>
	                </td>
	                <td class="schedule_td odd {{selected?'selected':''}}" ng-click="change()">
	                	&nbsp;请点击排班
	                </td>
	                <td class="schedule_td odd">
	                	&nbsp;请点击排班
	                </td>
	               <td class="schedule_td odd">
	                	&nbsp;请点击排班
	                </td>
	                <td class="schedule_td odd">
	                	&nbsp;请点击排班
	                </td>
	                <td class="schedule_td odd">
	                	&nbsp;请点击排班
	                </td>
	                <td class="schedule_td odd">
	                	&nbsp;请点击排班
	                </td>
	                <td class="schedule_td odd">
	                	&nbsp;请点击排班
	                </td>
              	</tr>
        </table>

        <div>
        	<input type="button" value="test" ng-click="getDate()">

        </div>
	<script type="text/javascript">
		var m = angular.module('app', []);
		m.controller('ctrl', ['$scope', function ($scope){
		   	$scope.change = function(){
		   		$scope.selected = !$scope.selected;
		   	}

		   	$scope.getDate = function(){
		   		var now = new Date(); //当前日期   
			    $scope.nowDayOfWeek = now.getDay(); //今天本周的第几天  
			    $scope.nowYear = now.getYear(); //当前年   
			    $scope.nowMonth = now.getMonth(); //月   
			    $scope.nowDay = now.getDate(); //日   
			    $scope.beginHour="09:00:00";  
			    $scope.endHour="23:59:59";  


			    //获得本周的开端日期   
				$scope.weekStartDate = new Date($scope.nowYear, $scope.nowMonth, $scope.nowDay - $scope.nowDayOfWeek + 1);   

				//获得本周的停止日期   
				$scope.weekEndDate = new Date($scope.nowYear, $scope.nowMonth, $scope.nowDay + (6 - $scope.nowDayOfWeek + 1));   
				console.log($scope.formatDate($scope.weekStartDate));
				console.log($scope.formatDate($scope.weekEndDate));
				console.log($scope.weekEndDate);

				console.log($scope.nowYear);


		   	}

		   	$scope.formatDate =  function(date) {   
				$scope.myyear = date.getFullYear();   
				$scope.mymonth = date.getMonth()+1;   
				$scope.myweekday = date.getDate();  
				 
				if($scope.mymonth < 10){   
					$scope.mymonth = "0" + $scope.mymonth;   
				}   
				if($scope.myweekday < 10){   
					$scope.myweekday = "0" + $scope.myweekday;   
				}   
				return ($scope.myyear+"-"+$scope.mymonth + "-" + $scope.myweekday);   
			}  
		}]);
	</script>
</body>
</html>